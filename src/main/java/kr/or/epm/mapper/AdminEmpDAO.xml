<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
 	작성자 : 백승아
 	작성일 : 2016-12-08
 	목  적 : 사원관리 전용 mapper
-->
<mapper namespace="kr.or.epm.DAO.AdminEmpDAO">

	<!-- 사원 정보 리스트 출력 -->
	<select id="selectEmp_list" resultType="kr.or.epm.VO.Emp">
		select emp_no, emp_name, branch_name, dept_name, low_dept_name, pic, cg_name, position_name
		from emp e join low_dept l
		on e.low_dept_no = l.low_dept_no
		join emp_cg c
		on e.cg_no = c.cg_no
		join position p
		on e.position_no = p.position_no
		order by branch_name asc, dept_name asc, low_dept_name asc
	</select>
	
	<!-- 사원 등록을 위한 새로운 사번 가져오기 -->
	<select id="selectNew_emp_no" resultType="String">
		select to_char(sysdate, 'yyyy')||trim(to_char(emp_seq.nextval,'0000'))
		from dual
	</select>
	
	<!-- 사원 등록을 위한 근무 상태 리스트 불러오기 -->
	<select id="selectEmp_cg_list" resultType="kr.or.epm.VO.Emp_cg">
		select cg_no, cg_name
		from emp_cg
	</select>
	
	<!-- 사원 등록을 위한 직위 리스트 불러오기 -->
	<select id="selectPosition_list" resultType="kr.or.epm.VO.Position">
		select position_no, position_name
		from position
		order by step asc
	</select>
	
	<!-- 사원 등록을 위한 지점 리스트 불러오기 -->
	<select id="selectBranch_list" resultType="kr.or.epm.VO.Branch">
		select branch_no, branch_name
		from branch
	</select>
	
	
</mapper>