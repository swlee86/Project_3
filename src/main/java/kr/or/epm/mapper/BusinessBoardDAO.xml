<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.epm.DAO.BusinessBoardDAO">

<select id="selectList" resultType="kr.or.epm.VO.BusinessBoard">
select no, title, emp_name, regdate, hit, low_dept_name from (select rownum rn, no, title, emp_name, regdate, hit, low_dept_name from business order by no desc) where rn between 1 and 5
</select >
	
<!-- business Board(business)의 총 갯수를 불러오는 쿼리문 -->
<select id="selectBoardCount" resultType="int">
select count(*) from business
</select>

<!-- business Board list에서 글을 클릭하면 글 내용을 불러오는 쿼리문 -->
<select id="selectDetail" resultType="kr.or.epm.VO.BusinessBoard">
select title, content, emp_name, regdate, low_dept_name from business where no=#{no}
</select>
	
<!-- business board list에서 글을 클릭하여 내용을 불러올 때 댓글 내용도 불러오는 쿼리문 -->	
<select id="selectReList" resultType="kr.or.epm.VO.Re_BusinessBoard">
select emp_name, content, regdate from (select rownum rn, emp_name, content, regdate from re_business where no=#{no} order by re_no asc)
</select>
	
</mapper>